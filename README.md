# Json2GoStruct

一个强大的 VSCode 扩展，用于快速生成 Go 语言代码和结构体。支持从 JSON 和 cURL 命令生成对应的 Go 代码。

## 功能特性

### 🚀 主要功能

- **JSON 转 Go 结构体**: 将 JSON 文件快速转换为 Go 结构体定义
- **cURL 转 Go 代码**: 将 cURL 命令转换为完整的 Go HTTP 请求代码
- **cURL 转 Go 结构体**: 从 cURL 命令中提取并生成相应的 Go 结构体

### ✨ 特点

- 🎯 **右键菜单集成**: 在文件资源管理器中右键点击文件即可使用
- 📁 **自动文件生成**: 生成的代码自动保存为 `.go` 文件
- 🔄 **智能命名**: 自动处理文件名冲突，避免覆盖现有文件
- 🛠️ **多种转换选项**: 提供多种代码生成方式满足不同需求

## 安装

1. 打开 VSCode
2. 按 `Ctrl+Shift+X` (Windows/Linux) 或 `Cmd+Shift+X` (macOS) 打开扩展面板
3. 搜索 "Json2GoStruct"
4. 点击安装

## 使用方法

### JSON 转 Go 结构体

1. 在 VSCode 中打开包含 JSON 数据的文件
2. 在文件资源管理器中右键点击该文件
3. 选择 "json生成go结构体(JsonToGo)"
4. 插件会自动生成 `json-to-go.go` 文件，包含对应的 Go 结构体定义

**示例:**

输入 JSON:

```json
{
  "name": "张三",
  "age": 30,
  "email": "zhangsan@example.com",
  "address": {
    "city": "北京",
    "zipcode": "100000"
  }
}
```

生成的 Go 结构体:

```go
type AutoGenerated struct {
    Name    string  `json:"name"`
    Age     int     `json:"age"`
    Email   string  `json:"email"`
    Address Address `json:"address"`
}

type Address struct {
    City    string `json:"city"`
    Zipcode string `json:"zipcode"`
}
```

### cURL 转 Go 代码

1. 创建一个包含 cURL 命令的文本文件
2. 在文件资源管理器中右键点击该文件
3. 选择 "生成golang代码或者结构体" → "curl生成go代码(CurlToGo)"
4. 插件会生成 `curl-to-go.go` 文件，包含完整的 HTTP 请求代码

### cURL 转 Go 结构体

1. 创建一个包含 cURL 命令的文本文件
2. 在文件资源管理器中右键点击该文件
3. 选择 "生成golang代码或者结构体" → "curl生成go结构体(CurlToGoStructs)"
4. 插件会生成 `curl-to-go-struct.go` 文件，包含相应的结构体定义

## 命令列表

| 命令 | 描述 | 快捷方式 |
|------|------|----------|
| `json2gostruct.JsonToGo` | JSON 转 Go 结构体 | 右键菜单 |
| `json2gostruct.CurlToGo` | cURL 转 Go 代码 | 右键菜单 |
| `json2gostruct.CurlToGoStructs` | cURL 转 Go 结构体 | 右键菜单 |

## 文件输出

生成的文件会保存在与源文件相同的目录下：

- JSON 转换: `json-to-go.go`
- cURL 转代码: `curl-to-go.go`
- cURL 转结构体: `curl-to-go-struct.go`

如果文件已存在，插件会自动添加 "_副本" 后缀避免覆盖。

## 系统要求

- VSCode 版本: ^1.103.0
- 操作系统: Windows, macOS, Linux

## 开发

### 本地开发

```bash
# 克隆项目
git clone <repository-url>
cd json2gostruct

# 安装依赖
yarn install

# 编译
yarn run compile

# 监听模式
yarn run watch

# 运行测试
yarn run test
```

### 构建

```bash
# 构建发布版本
yarn run vscode:prepublish
```

## 贡献

欢迎提交 Issue 和 Pull Request！

## 许可证

[MIT License](LICENSE)

## 更新日志

### 0.0.1

- 初始版本发布
- 支持 JSON 转 Go 结构体
- 支持 cURL 转 Go 代码
- 支持 cURL 转 Go 结构体
- 右键菜单集成

---

**享受编码！** 🎉
